---
title: "Flink 重启策略"
category: "工程"
tags: [Checkpoint, Flink]
created: "2026-02-13"
updated: "2026-02-13"
---

# Flink 重启策略

### **重启策略**

1. 两种配置：full 和 region，full 时所有 task 重启，region 是部分重启（优）。
1.  region 部分重启策略：三部分：
1. 出现故障的 region 重启
1. 如果数据丢失、损坏，生产数据的 region 重启
1. 为保证数据一致性，下游 region 要重启
1. 三种重启策略：**生产环境为每个任务指定自己的重启机制和策略**
1. 固定延迟：有 checkpoint 时默认，参数：需要重试的次数、重试时间间隔
1. 失败率：参数：重试时间间隔、计算失败率的时间间隔、指定时间内最大失败次数，**例如 5 分钟内失败 3 次就停止任务**
1. 无重启：无 checkpoint 时默认
1. 无重启策略，job 失败不尝试重启
1. 固定延迟重启策略，设定一个最大重启次数，如果超过了最大重启次数就重启失败， 两次重启尝试之间会有一个固定的等待时间。
1. 失败率重启策略，在 job 失败后会重启，但超过失败率以后 job 会被认定为失败，也是每次重启间隔会等待一段固定时间。