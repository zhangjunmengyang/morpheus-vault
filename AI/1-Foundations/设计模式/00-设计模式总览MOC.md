---
title: 设计模式总览
type: moc
tags: [design-pattern, architecture, ai-collaboration]
date: 2026-02-28
---

# 设计模式总览

> **目的**：不是为了写代码，是为了建立架构师视角的思维工具箱。
> 每个模式都是一个**解决特定问题的经过验证的思路**。理解它们，就是理解系统设计的语言。
> 最后一节专门讨论这些模式在 AI Agent 协作中的映射。

---

## 一、三大分类体系（GoF 框架）

```
设计模式
├── 创建型（Creational）  — 解决"怎么造对象"的问题
│   ├── 简单工厂
│   ├── 工厂方法
│   ├── 抽象工厂
│   ├── 建造者（Builder）
│   ├── 原型（Prototype）
│   └── 单例（Singleton）
│
├── 结构型（Structural）  — 解决"怎么组合对象"的问题
│   ├── 适配器（Adapter）
│   ├── 桥接（Bridge）
│   ├── 组合（Composite）
│   ├── 装饰器（Decorator）
│   ├── 外观（Facade）
│   ├── 享元（Flyweight）
│   └── 代理（Proxy）
│
└── 行为型（Behavioral）  — 解决"对象之间怎么协作"的问题
    ├── 责任链（Chain of Responsibility）
    ├── 命令（Command）
    ├── 迭代器（Iterator）
    ├── 中介者（Mediator）
    ├── 备忘录（Memento）
    ├── 观察者（Observer）  ⭐ AI协作核心
    ├── 状态（State）
    ├── 策略（Strategy）    ⭐ AI协作核心
    ├── 模板方法（Template Method）
    ├── 访问者（Visitor）
    └── 解释器（Interpreter）
```

**GoF 之外的重要模式（系统架构层）：**

```
架构模式
├── 管道-过滤器（Pipeline-Filter）  ⭐ AI协作核心
├── 黑板模式（Blackboard）          ⭐ AI协作核心（刚上线）
├── 发布-订阅（Pub/Sub）            ⭐ AI协作核心
└── 监督者模式（Supervisor）        ⭐ AI协作核心

Multi-Agent 专属：
├── 蜂群模式（Swarm）               ⭐ AI协作核心
├── 主从模式（Master-Worker）
└── 选举模式（Leader Election）
```

---

## 二、快速导航

### 创建型
- [[01-创建型模式]] — 工厂 / 建造者 / 单例 / 原型

### 结构型
- [[02-结构型模式]] — 适配器 / 装饰器 / 代理 / 外观 / 组合

### 行为型（GoF）
- [[03-行为型模式-GoF]] — 观察者 / 策略 / 责任链 / 状态 / 命令 / 中介者

### 架构 & AI 协作模式
- [[04-架构模式与AI协作]] — 管道 / 黑板 / 发布订阅 / 监督者 / 蜂群

---

## 三、选模式的心法

**问题导向，不是模式导向**。不要先想"我要用什么模式"，而是先问：

| 我遇到的问题 | 对应模式 |
|---|---|
| 这个对象怎么创建，调用方不用关心细节 | 工厂系列 |
| 我需要动态给对象加功能，不想改原来的代码 | 装饰器 |
| 一件事发生了，很多地方需要响应 | 观察者 / 发布订阅 |
| 有多种算法，运行时切换 | 策略 |
| 请求经过多个处理环节，每个环节独立决定是否处理 | 责任链 / 管道 |
| 多个组件共享一块数据，各自读写 | 黑板 |
| 需要一个"总指挥"统一协调子任务 | 监督者 / 中介者 |
| 大量相同类型的 Agent 并行，无中心协调 | 蜂群 |

---

## 四、AI Agent 协作模式速查

这是老板最关心的部分——把经典模式映射到 AI 系统：

```
AI 协作场景                经典模式映射
─────────────────────────────────────────────────────
事件驱动（一个触发，多个响应）  →  观察者 / 发布订阅
串行任务流（A→B→C）          →  管道-过滤器
多 Agent 共享状态            →  黑板模式
任务调度 + 失败重试           →  监督者模式
多算法动态切换               →  策略模式
大量同质 Agent 并行          →  蜂群模式
统一对外接口隐藏内部复杂度    →  外观模式（Facade）
动态给 Agent 加能力           →  装饰器模式
Agent 间消息解耦              →  中介者模式
```

详见 → [[04-架构模式与AI协作]]
