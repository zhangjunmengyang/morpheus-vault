---
brief: "大模型线上排查 SOP——生产环境 LLM 服务异常的标准排查流程；覆盖模型输出异常/延迟突增/Token 消耗异常/幻觉频率上升等场景；从监控告警到根因定位的 Checklist 式操作手册。"
title: "大模型线上排查 SOP"
type: concept
domain: ai/llm/application/embedding
created: "2026-02-13"
updated: "2026-02-13"
tags:
  - ai/llm/application/embedding
  - type/concept
---
# 大模型线上排查 SOP

**排查SOP**

大模型应用可能出现的错误非常多，本文仅根据常见问题梳理排查SOP大致如下：

![image](assets/Aog4dGqiooKJLoxAnLMcgBO5nvc.png)

整体的排查流程应该是：

1. 应急发起：收集问题现象。问题的最开始可能是来源于配置的自定义监控&云产品监控，也可能是运维人员盯屏发现的风险，可能是来自业务系统自身的告警，甚至可能来自客服同学的用户反馈。从目前有的信息上收集第一手信息，结合应用系统和模型的使用关系，从而第一时间了解具体的表现。
1. 确认应急类型：问题可能是盯屏/告警发出的水位高的事件，也可能是系统报错等。确认具体的问题分类，从而可以选择合适的问题排查方法。
1. 确认异常场景：进一步定位分析是什么问题，是资源水位过高告警，还是实际上有一些429的错误，还是百炼返回了其他错误码，还是出现延迟等等。
1. 排查原因：进一步定位问题发生的原因。这里就需要结合前面的业务监控&云产品监控来做进一步的原因定位。
- 查看日志找到具体的问题，根据TraceID，可以看到整个请求的上下文信息。
- 从核心指标可以确认问题的范围，判断是大面积发生还是零星的问题。
- 根据时间趋势，可以查看问题的时间，定位到问题发生事件。
- 从应用下钻，分析都有哪些应用受到影响，方便从业务侧收集影响面，并及时开展应急止血。
- 从工作空间&模型下钻，快读定位是哪些模型的问题还是全面的问题。特别是对于工作空间级的限流问题，可以快速定位到问题。
- 结合核心模型的表现，确认关键业务是否受损。
- 从错误码来看具体是什么原因导致的，从而开启后续的预案。
- 对于限流类问题或者水位高告警类问题，通过账号级当前限流、核心模型限流情况、工作空间限流情况，快速定位限流模型和工作空间范围，便于快速开启预案。
1. 启动应急预案：针对具体的问题启动应急预案，及时止血。
1. 观察恢复效果：确认问题已完全恢复后停止应急。
---

## See Also

- [[AI/LLM/Application/Embedding/Embedding 选型|Embedding 选型]] — 线上问题的根源：选型决策
- [[AI/LLM/Application/Embedding/Embedding|Embedding 原理]] — 问题诊断的理论基础
- [[AI/LLM/Inference/KV Cache|KV Cache 优化]] — 线上推理常见性能问题
- [[AI/LLM/目录|LLM MOC]] — 大语言模型知识全图谱
