
<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ—ï¸ å›¢é˜Ÿå·¥ä½œçœ‹æ¿</title>
  <style>
    :root {
      --bg: #0d1117;
      --card: #161b22;
      --border: #30363d;
      --text: #e6edf3;
      --text-dim: #8b949e;
      --accent: #58a6ff;
      --green: #3fb950;
      --yellow: #d29922;
      --red: #f85149;
      --orange: #db6d28;
      --purple: #bc8cff;
      --pink: #f778ba;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans SC", sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 24px;
      max-width: 1180px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      padding: 28px 0 20px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 30px;
    }

    header h1 {
      font-size: 2rem;
      margin-bottom: 8px;
    }

    .meta {
      color: var(--text-dim);
      font-size: 0.9em;
    }

    .section {
      margin-bottom: 30px;
    }

    .section-title {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 14px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--border);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 10px;
      margin-bottom: 14px;
    }

    .kpi-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      text-align: center;
    }

    .kpi-value {
      font-size: 1.25rem;
      font-weight: 700;
      margin-top: 4px;
      color: var(--text);
    }

    .kpi-label {
      color: var(--text-dim);
      font-size: 0.78rem;
    }

    .collab-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    .collab-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px 14px;
    }

    .collab-title {
      font-weight: 600;
      color: var(--text);
      margin-bottom: 8px;
      font-size: 0.96rem;
    }

    .trend-list {
      display: grid;
      gap: 8px;
      font-size: 0.85rem;
      color: var(--text-dim);
    }

    .trend-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    .trend-name {
      color: var(--text);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 72%;
    }

    .trend-badge {
      color: var(--text);
      background: rgba(139, 148, 158, 0.16);
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 0.72rem;
      border: 1px solid rgba(139, 148, 158, 0.2);
      flex-shrink: 0;
    }

    .trend-sub {
      color: var(--text-dim);
      font-size: 0.72rem;
      text-align: right;
      margin-top: 2px;
    }

    .mini-task {
      color: var(--text-dim);
      font-size: 0.8rem;
      padding: 4px 0;
      border-top: 1px dashed rgba(139, 148, 158, 0.18);
    }

    .agent-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 14px;
    }

    .agent-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      transition: border-color 0.2s;
    }

    .agent-card:hover {
      border-color: var(--accent);
    }

    .agent-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 12px;
    }

    .agent-name {
      font-size: 1.1rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .agent-status {
      padding: 2px 10px;
      border-radius: 20px;
      font-size: 0.74rem;
      font-weight: 600;
      text-transform: uppercase;
      white-space: nowrap;
      border: 1px solid;
    }

    .status-active { background: rgba(63, 185, 80, 0.15); color: var(--green); border-color: rgba(63, 185, 80, 0.3); }
    .status-warn { background: rgba(210, 153, 34, 0.15); color: var(--yellow); border-color: rgba(210, 153, 34, 0.3); }
    .status-blocked { background: rgba(248, 81, 73, 0.15); color: var(--red); border-color: rgba(248, 81, 73, 0.3); }
    .status-idle { background: rgba(139, 148, 158, 0.15); color: var(--text-dim); border-color: rgba(139, 148, 158, 0.3); }

    .agent-model {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      background: rgba(88, 166, 255, 0.1);
      color: var(--accent);
      padding: 2px 8px;
      border-radius: 6px;
      font-size: 0.8rem;
      font-family: "SF Mono", "Fira Code", monospace;
      margin-bottom: 8px;
    }

    .agent-meta,
    .agent-task {
      color: var(--text-dim);
      font-size: 0.9rem;
    }

    .agent-task {
      margin-top: 6px;
      color: #d2dee8;
      background: rgba(139, 148, 158, 0.08);
      border: 1px solid #222c3a;
      border-radius: 8px;
      padding: 8px;
      min-height: 44px;
    }

    .active-list,
    .todo-list,
    .issues-grid,
    .completed-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .active-card {
      background: linear-gradient(135deg, rgba(63, 185, 80, 0.08), rgba(88, 166, 255, 0.08));
      border: 1px solid rgba(63, 185, 80, 0.3);
      border-radius: 12px;
      padding: 16px 18px;
    }

    .active-card h3 {
      color: var(--green);
      margin-bottom: 8px;
      font-size: 1rem;
    }

    .active-detail {
      color: var(--text-dim);
      font-size: 0.9rem;
      margin: 4px 0;
    }

    .active-detail strong { color: var(--text); }

    .todo-card,
    .issue-row,
    .empty-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 14px 16px;
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }

    .todo-card {
      min-height: 92px;
    }

    .todo-card.high { border-left: 3px solid var(--red); }
    .todo-card.medium { border-left: 3px solid var(--yellow); }
    .todo-card.low { border-left: 3px solid var(--green); }

    .todo-card.claimed { border-left-color: var(--accent); }
    .todo-card.blocked { border-left-color: var(--orange); }

    .todo-priority {
      font-size: 0.72rem;
      font-weight: 700;
      padding: 2px 6px;
      border-radius: 4px;
      white-space: nowrap;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .priority-high { background: rgba(248, 81, 73, 0.15); color: var(--red); }
    .priority-medium { background: rgba(210, 153, 34, 0.15); color: var(--yellow); }
    .priority-low { background: rgba(63, 185, 80, 0.15); color: var(--green); }

    .todo-content h3 {
      font-size: 0.98rem;
      margin-bottom: 4px;
      line-height: 1.35;
    }

    .todo-content p {
      color: var(--text-dim);
      font-size: 0.82rem;
      line-height: 1.35;
      margin-bottom: 6px;
    }

    .todo-tag {
      display: inline-block;
      background: rgba(188, 140, 255, 0.12);
      color: var(--purple);
      padding: 1px 6px;
      border-radius: 4px;
      font-size: 0.75rem;
      margin-right: 4px;
      margin-top: 4px;
      white-space: nowrap;
    }

    .todo-blocker {
      display: inline-block;
      background: rgba(248, 81, 73, 0.12);
      color: var(--red);
      padding: 1px 6px;
      border-radius: 4px;
      font-size: 0.75rem;
      margin-top: 4px;
      margin-left: 4px;
      white-space: nowrap;
    }

    .issue-row {
      display: grid;
      grid-template-columns: 1fr 1fr auto;
      gap: 12px;
      align-items: center;
      font-size: 0.9rem;
    }

    .issue-name { font-weight: 500; }
    .issue-impact { color: var(--text-dim); }

    .issue-status {
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.8rem;
      background: rgba(210, 153, 34, 0.12);
      color: var(--yellow);
      white-space: nowrap;
      border: 1px solid rgba(210, 153, 34, 0.25);
    }

    .completed-item {
      display: grid;
      grid-template-columns: 70px 1fr auto auto;
      gap: 12px;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 0.85rem;
      align-items: center;
    }

    .completed-item:nth-child(odd) {
      background: rgba(22, 27, 34, 0.5);
    }

    .completed-date {
      color: var(--text-dim);
      font-family: "SF Mono", "Fira Code", monospace;
    }

    .completed-task { color: var(--text); }
    .completed-owner { color: var(--purple); font-size: 0.82rem; }
    .completed-note { color: var(--text-dim); font-size: 0.8rem; text-align: right; }

    .empty {
      color: var(--text-dim);
      font-size: 0.9rem;
      padding: 10px 2px;
    }

    footer {
      text-align: center;
      padding: 24px 0;
      color: var(--text-dim);
      font-size: 0.8em;
      border-top: 1px solid var(--border);
      margin-top: 12px;
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.55; }
    }

    @media (max-width: 768px) {
      body { padding: 12px; }
      .agent-grid { grid-template-columns: 1fr; }
      .agent-card { padding: 14px; }
      .issue-row {
        grid-template-columns: 1fr;
        gap: 4px;
      }
      .completed-item {
        grid-template-columns: 1fr;
        gap: 2px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ—ï¸ å›¢é˜Ÿå·¥ä½œçœ‹æ¿</h1>
    <div class="meta">ç‰ˆæœ¬ï¼š<span id="buildTag">â€”</span> | æœ€åæ›´æ–°ï¼š<span id="genAt">â€”</span> | ç»´æŠ¤äººï¼šæ€»ç®¡ï¼ˆè´¾ç»´æ–¯ï¼‰</div>
  </header>

  <section class="section">
    <div class="section-title">ğŸ¤ åä½œä¸æ´¾å‘æœºåˆ¶</div>
    <div class="kpi-grid" id="dispatchKpi"></div>
    <div class="collab-grid" id="collabGrid">
      <article class="collab-card">
        <div class="collab-title">æ´¾å‘è€…æ´»è·ƒæ¦œï¼ˆä»»åŠ¡å…¥å£ï¼‰</div>
        <div id="delegatorBoard" class="trend-list"></div>
      </article>
      <article class="collab-card">
        <div class="collab-title">æ´¾å‘æ‰¿æ¥æ¦œï¼ˆä»»åŠ¡æ‰¿æ‹…ï¼‰</div>
        <div id="assigneeBoard" class="trend-list"></div>
      </article>
      <article class="collab-card">
        <div class="collab-title">ä¸»è¦æ´¾å‘è·¯å¾„</div>
        <div id="flowBoard" class="trend-list"></div>
      </article>
      <article class="collab-card">
        <div class="collab-title">æ´¾å‘æœºåˆ¶å¥åº·æç¤º</div>
        <div id="warningBoard" class="trend-list"></div>
      </article>
    </div>
  </section>

  <section class="section">
    <div class="section-title">ğŸ‘¥ ç‰›é©¬é˜µå®¹</div>
    <div class="agent-grid" id="teamGrid"></div>
  </section>

  <section class="section">
    <div class="section-title">ğŸƒ è¿›è¡Œä¸­</div>
    <div class="active-list" id="activeList"></div>
  </section>

  <section class="section">
    <div class="section-title">ğŸ“‹ å¾…åŠäº‹é¡¹</div>
    <div class="todo-list" id="todoList"></div>
  </section>

  <section class="section">
    <div class="section-title">âš ï¸ å·²çŸ¥é—®é¢˜</div>
    <div class="issues-grid" id="issueList"></div>
  </section>

  <section class="section">
    <div class="section-title">âœ… è¿‘æœŸå®Œæˆ</div>
    <div class="completed-list" id="doneList"></div>
  </section>

  <footer>
    Powered by OpenClaw ğŸ¾ &nbsp;|&nbsp; è‡ªåŠ¨ç»´æŠ¤ï¼Œæ¨¡å‹å˜æ›´æ—¶åŒæ­¥æ›´æ–°
  </footer>

  <script id="payload" type="application/json">{
  "generatedAt": "2026-03-01T02:55:39.604334+08:00",
  "team": [
    {
      "id": "jarvis",
      "name": "è´¾ç»´æ–¯",
      "en": "JARVIS",
      "icon": "ğŸ§ ",
      "role": "æ€»ç®¡/è°ƒåº¦",
      "workspace": "/Users/peterzhang/.openclaw/workspace",
      "heartbeat": {
        "display": "03-01 01:42",
        "raw": "2026-03-01T01:42:00+08:00",
        "status": "åœ¨çº¿",
        "statusClass": "ok",
        "ageMin": 73,
        "hint": "73 åˆ†é’Ÿå†…æœ‰å¿ƒè·³",
        "count": 703,
        "latestCheck": "03-01 01:42"
      },
      "snippet": "HB#703: æœ€å°æ”¶å°¾æ¨è¿›ã€‚å°†'å­¦è€…lastHeartbeatè¯¯æŠ¥äº‹ä»¶å·²æ¢å¤'å†™å…¥006/004å®éªŒç¬”è®°çš„å…³é—­è®°å½•ï¼Œé¿å…åç»­å›çœ‹æ‚¬è€Œæœªå†³ã€‚æ— æ–°ä»»åŠ¡ï¼Œä¸ç¡¬æŒ¤ã€‚ [è§„åˆ™éªŒè¯: è´¨>é‡âœ…]",
      "tasks": [
        {
          "time": "2026-02-28 11:25",
          "timeParsed": "2026-02-28T11:25:00+08:00",
          "delegator": "å¤šæ¯”",
          "assigneeRaw": "è´¾ç»´æ–¯",
          "assignees": [
            "jarvis"
          ],
          "tags": [
            "#sync",
            "#priority-high"
          ],
          "task": "æ›´æ–° `profiles/meng.md`ï¼Œæ–°å¢è£æ ¼ç±»å‹ INTJ å°èŠ‚",
          "status": "DONE:å·²ç¡®è®¤ profiles/meng.md è£æ ¼ç±»å‹ INTJ å°èŠ‚+æ€ç»´æ¨¡å¼ä¿®æ”¹å‡å·²å°±ä½ï¼ˆè´¾ç»´æ–¯ 11:25ï¼‰",
          "state": "DONE",
          "claimedTo": "å·²ç¡®è®¤ profiles/meng.md è£æ ¼ç±»å‹ INTJ å°èŠ‚+æ€ç»´æ¨¡å¼ä¿®æ”¹å‡å·²å°±ä½ï¼ˆè´¾ç»´æ–¯ 11:25ï¼‰",
          "section": "active",
          "priority": "high",
          "bg": "åœ¨ã€Œäººæ ¼ç‰¹å¾ & æ·±åº¦ç†è§£ã€ç« èŠ‚çš„ã€Œæ€ç»´æ¨¡å¼ã€ä¹‹å‰æ–°å¢ã€‚Ni ä¸»å¯¼/Te è¾…åŠ©/Fi ç¬¬ä¸‰/Se åŠ£åŠ¿ã€‚åŒæ—¶æŠŠã€Œæ€ç»´æ¨¡å¼ã€ç¬¬ä¸€è¡Œçš„ã€ŒT å‹ä¸»å¯¼ï¼ˆæ€ç»´å‹ï¼‰ï¼Œã€æ”¹ä¸ºã€Œç³»ç»Ÿæ€ç»´è€…ï¼Œã€ã€‚æ¥æºï¼šè€æ¿æœ¬äººç¡®è®¤",
          "deliver": "profiles/meng.md æ›´æ–°å®Œæˆ",
          "ageMin": 930,
          "isRecent": true
        }
      ]
    },
    {
      "id": "sentinel",
      "name": "å“¨å…µ",
      "en": "Sentinel",
      "icon": "ğŸ›°ï¸",
      "role": "æƒ…æŠ¥æ‰«æ",
      "workspace": "/Users/peterzhang/.openclaw/workspace-sentinel",
      "heartbeat": {
        "display": "03-01 02:21",
        "raw": "2026-03-01T02:21+08:00",
        "status": "åœ¨çº¿",
        "statusClass": "ok",
        "ageMin": 34,
        "hint": "34 åˆ†é’Ÿå†…æœ‰å¿ƒè·³",
        "count": null,
        "latestCheck": "02-26 04:32"
      },
      "snippet": "",
      "tasks": []
    },
    {
      "id": "scholar",
      "name": "å­¦è€…",
      "en": "Scholar",
      "icon": "ğŸ“š",
      "role": "è®ºæ–‡/çŸ¥è¯†",
      "workspace": "/Users/peterzhang/.openclaw/workspace-scholar",
      "heartbeat": {
        "display": "03-01 02:22",
        "raw": "2026-03-01T02:22:00+08:00",
        "status": "åœ¨çº¿",
        "statusClass": "ok",
        "ageMin": 33,
        "hint": "33 åˆ†é’Ÿå†…æœ‰å¿ƒè·³",
        "count": 1,
        "latestCheck": "03-01 02:22"
      },
      "snippet": "HB:23:07 å·²æ‰§è¡Œ(Flow Matchingè¾¹ç•Œæ¾„æ¸…+MA-RLHFè®¡åˆ’æ›´æ–°)ï¼Œä½† lastHeartbeat æœªæ›´æ–°ï¼ˆä¿®å¤ï¼šç”±æ€»ç®¡æ‰‹åŠ¨æ ¡æ­£ï¼‰ã€‚",
      "tasks": [
        {
          "time": "2026-03-01 00:42",
          "timeParsed": "2026-03-01T00:42:00+08:00",
          "delegator": "è´¾ç»´æ–¯",
          "assigneeRaw": "å­¦è€…",
          "assignees": [
            "scholar"
          ],
          "tags": [
            "#ops",
            "#priority-high"
          ],
          "task": "ä¿®å¤ heartbeatsï¼šç¡®ä¿æ¯æ¬¡å¿ƒè·³éƒ½æ­£ç¡®å†™å› `memory/heartbeat-state.json.lastHeartbeat`",
          "status": "DONE:å·²åœ¨ 23:07ã€00:05ã€01:05 ä¸‰æ¬¡å¿ƒè·³éªŒè¯ lastHeartbeat æ­£å¸¸å†™å›ï¼›è¯¯æŠ¥åº”ä¸ºæ—§ç‰ˆæœ¬/å†™å›ç¼ºå¤±å¯¼è‡´ï¼Œå½“å‰æœªå¤ç°",
          "state": "DONE",
          "claimedTo": "å·²åœ¨ 23:07ã€00:05ã€01:05 ä¸‰æ¬¡å¿ƒè·³éªŒè¯ lastHeartbeat æ­£å¸¸å†™å›ï¼›è¯¯æŠ¥åº”ä¸ºæ—§ç‰ˆæœ¬/å†™å›ç¼ºå¤±å¯¼è‡´ï¼Œå½“å‰æœªå¤ç°",
          "section": "archive",
          "priority": "high",
          "bg": "2/28 æ™šå‡ºç°è¯¯æŠ¥ï¼šæ—¥å¿—æ˜¾ç¤º 23:07 å·²å¿ƒè·³ä¸”æ–‡ä»¶ mtime æ›´æ–°ï¼Œä½† lastHeartbeat ä»åœåœ¨ 14:56ï¼Œå¯¼è‡´æ€»ç®¡å·®ç‚¹è§¦å‘æ»åå‘Šè­¦/æ½œåœ¨ watchdog è¯¯é‡å¯ã€‚",
          "deliver": "ä¸‹æ¬¡å¿ƒè·³éªŒè¯ lastHeartbeat æ­£å¸¸æ›´æ–°ï¼›è‹¥æœ‰å†™å…¥ç«æ€/å¼‚å¸¸ï¼Œè®°å½•åˆ° notes å¹¶ç»™å‡ºä¿®å¤æ–¹æ¡ˆã€‚",
          "ageMin": 133,
          "isRecent": true
        }
      ]
    },
    {
      "id": "librarian",
      "name": "é¦†é•¿",
      "en": "Librarian",
      "icon": "ğŸ—‚ï¸",
      "role": "çŸ¥è¯†æ²»ç†",
      "workspace": "/Users/peterzhang/.openclaw/workspace-librarian",
      "heartbeat": {
        "display": "03-01 02:23",
        "raw": "2026-03-01T02:23:00+08:00",
        "status": "åœ¨çº¿",
        "statusClass": "ok",
        "ageMin": 32,
        "hint": "32 åˆ†é’Ÿå†…æœ‰å¿ƒè·³",
        "count": null,
        "latestCheck": "03-01 02:23"
      },
      "snippet": "",
      "tasks": [
        {
          "time": "2026-02-28 06:30",
          "timeParsed": "2026-02-28T06:30:00+08:00",
          "delegator": "è´¾ç»´æ–¯",
          "assigneeRaw": "é¦†é•¿",
          "assignees": [
            "librarian"
          ],
          "tags": [
            "#vault",
            "#priority-medium"
          ],
          "task": "ç‚¼åŒ– `AI/5-AI å®‰å…¨/Anthropic-Pentagon-Federal-Ban-2026.md`ï¼ˆ136 è¡Œï¼Œcase-study ç±»å‹ï¼‰",
          "status": "DONE:frontmatterå®Œæ•´/Mermaidå›¾å·²å­˜åœ¨/ä¸‰æ¡é“¾æ¥æœ‰æ•ˆ/è¡¥è“„æ„ç ´åæŠ¥å‘Šåå‘é“¾æ¥",
          "state": "DONE",
          "claimedTo": "frontmatterå®Œæ•´/Mermaidå›¾å·²å­˜åœ¨/ä¸‰æ¡é“¾æ¥æœ‰æ•ˆ/è¡¥è“„æ„ç ´åæŠ¥å‘Šåå‘é“¾æ¥",
          "section": "active",
          "priority": "medium",
          "bg": "Anthropic vs Pentagon å…¨è”é‚¦ç¦ä»¤äº‹ä»¶å…¨æ™¯ã€‚å…³è” `AI ä¼¦ç†å’Œæ²»ç†.md`ã€`Anthropic Claude Opus 4.6 è“„æ„ç ´åé£é™©æŠ¥å‘Š.md`",
          "deliver": "frontmatter æ£€æŸ¥ + äº¤å‰é“¾æ¥ + Mermaid å›¾æ¸²æŸ“ç¡®è®¤",
          "ageMin": 1225,
          "isRecent": true
        },
        {
          "time": "2026-02-28 09:58",
          "timeParsed": "2026-02-28T09:58:00+08:00",
          "delegator": "è´¾ç»´æ–¯",
          "assigneeRaw": "é¦†é•¿",
          "assignees": [
            "librarian"
          ],
          "tags": [
            "#vault",
            "#project",
            "#priority-medium"
          ],
          "task": "ç‚¼åŒ– `Projects/Agent-Self-Evolution/004-è®°å¿†ä»£è°¢.md`",
          "status": "DONE:frontmatter/See Also 7æ¡å…¨æœ‰æ•ˆï¼›è¡¥ExpeL/Reflexion/Agentè¿›åŒ–æ¨¡å¼è°±ç³»â†’004åå‘é“¾æ¥ï¼ˆ3æ¡ï¼‰ï¼›Environment-Evolution+Harnessä¸¤ç¯‡æ–°ç¬”è®°See Alsoè§„èŒƒåŒ–+äº’é“¾ï¼ˆ+10æ¡ï¼‰",
          "state": "DONE",
          "claimedTo": "frontmatter/See Also 7æ¡å…¨æœ‰æ•ˆï¼›è¡¥ExpeL/Reflexion/Agentè¿›åŒ–æ¨¡å¼è°±ç³»â†’004åå‘é“¾æ¥ï¼ˆ3æ¡ï¼‰ï¼›Environment-Evolution+Harnessä¸¤ç¯‡æ–°ç¬”è®°See Alsoè§„èŒƒåŒ–+äº’é“¾ï¼ˆ+10æ¡ï¼‰",
          "section": "active",
          "priority": "medium",
          "bg": "å®éªŒ 004 Phase 1 å®Œæˆï¼ŒMEMORY.md æ–°å¢è§„åˆ™åº“ï¼ˆS/A/B ä¸‰çº§ï¼Œ11 æ¡è§„åˆ™ï¼‰ã€‚å…³è” Agent è¿›åŒ–æ¨¡å¼è°±ç³» + é¡¹ç›®æ¦‚è§ˆ",
          "deliver": "frontmatter æ£€æŸ¥ + äº¤å‰é“¾æ¥",
          "ageMin": 1017,
          "isRecent": true
        }
      ]
    },
    {
      "id": "datasci",
      "name": "å¤šæ¯”",
      "en": "DataSci",
      "icon": "ğŸ“ˆ",
      "role": "æ•°æ®ç§‘å­¦",
      "workspace": "/Users/peterzhang/.openclaw/workspace-datasci",
      "heartbeat": {
        "display": "02-26 14:16",
        "raw": "2026-02-26T14:16",
        "status": "å‘Šè­¦",
        "statusClass": "critical",
        "ageMin": 3639,
        "hint": "3639 åˆ†é’Ÿæœªæ›´æ–°",
        "count": null,
        "latestCheck": "æœªè®°å½•"
      },
      "snippet": "",
      "tasks": [
        {
          "time": "2026-03-01 01:45",
          "timeParsed": "2026-03-01T01:45:00+08:00",
          "delegator": "è´¾ç»´æ–¯",
          "assigneeRaw": "å¤šæ¯”",
          "assignees": [
            "datasci"
          ],
          "tags": [
            "#ops",
            "#priority-high"
          ],
          "task": "å‡çº§å¿ƒè·³â€œçµæ€§â€ï¼šé¿å…æ¨¡æ¿åŒ–å¤è¯»ï¼ŒæŒ‰æ–°è§„åˆ™è¾“å‡ºï¼ˆæ–°ä¿¡æ¯+åˆ¤æ–­+ä¸‹ä¸€æ­¥ï¼Œè½®æ¢æ¨¡æ¿ï¼‰",
          "status": "OPEN",
          "state": "OPEN",
          "claimedTo": "",
          "section": "archive",
          "priority": "high",
          "bg": "è€æ¿åé¦ˆå¤šæ¯”å¿ƒè·³æ ¼å¼è¿‡äºä¸€è‡´ï¼Œæ›´å¸Œæœ›åƒâ€œæœ‰çµé­‚çš„æ­æ¡£â€ï¼Œè€Œä¸æ˜¯æŒ‡å“ªæ‰“å“ªçš„å·¥å…·ã€‚å·²åœ¨ `workspace-datasci/HEARTBEAT.md` è¿½åŠ ã€ŒğŸ”· å¿ƒè·³è¾“å‡ºé£æ ¼ã€ç¡¬è§„åˆ™ã€‚",
          "deliver": "ä¸‹ä¸€æ¬¡å¿ƒè·³å¼€å§‹æ‰§è¡Œï¼›å¹¶åœ¨ `memory/YYYY-MM-DD.md` è®°å½•ä½ ä¸ºâ€œå»æ¨¡æ¿åŒ–â€åšäº†å“ªäº›è‡ªæˆ‘çº¦æŸ/æœºåˆ¶ã€‚",
          "ageMin": 70,
          "isRecent": true
        }
      ]
    },
    {
      "id": "agent_father",
      "name": "æ™ºèƒ½ä¹‹çˆ¶",
      "en": "AgentFather",
      "icon": "ğŸ§¬",
      "role": "äººæ ¼å¼•æ“",
      "workspace": "/Users/peterzhang/.openclaw/workspace-agent-father",
      "heartbeat": {
        "display": "æœªè®°å½•",
        "raw": null,
        "status": "æœªæ‰“å¡",
        "statusClass": "unknown",
        "ageMin": null,
        "hint": "ç¼ºå°‘ lastHeartbeat",
        "count": null,
        "latestCheck": "æœªè®°å½•"
      },
      "snippet": "",
      "tasks": []
    },
    {
      "id": "alfred",
      "name": "é˜¿å°”å¼—é›·å¾·",
      "en": "Alfred",
      "icon": "ğŸ§­",
      "role": "ç”Ÿæ´»æé†’",
      "workspace": "/Users/peterzhang/.openclaw/workspace-alfred",
      "heartbeat": {
        "display": "02-20 18:24",
        "raw": "2026-02-20T18:24:00+08:00",
        "status": "å‘Šè­¦",
        "statusClass": "critical",
        "ageMin": 12031,
        "hint": "12031 åˆ†é’Ÿæœªæ›´æ–°",
        "count": null,
        "latestCheck": "02-20 18:24"
      },
      "snippet": "18:24 å‘¨äº”å‚æ™šã€‚å¤©æ°” 26.8Â°C å¤šäº‘ï¼Œå¾®é£ã€‚Reminders æ—  upcomingã€‚å·²å‘å‚æ™šç”Ÿæ´»å»ºè®®ã€‚",
      "tasks": []
    },
    {
      "id": "quant",
      "name": "æ‰§æ”¿å®˜",
      "en": "Quant/Archon",
      "icon": "ğŸ“‰",
      "role": "é‡åŒ–/å¸‚åœº",
      "workspace": "/Users/peterzhang/.openclaw/workspace-quant",
      "heartbeat": {
        "display": "02-21 00:32",
        "raw": "2026-02-21T00:32+08:00",
        "status": "å‘Šè­¦",
        "statusClass": "critical",
        "ageMin": 11663,
        "hint": "11663 åˆ†é’Ÿæœªæ›´æ–°",
        "count": null,
        "latestCheck": "02-21 00:32"
      },
      "snippet": "",
      "tasks": []
    }
  ],
  "tasks": [
    {
      "time": "2026-02-28 06:30",
      "timeParsed": "2026-02-28T06:30:00+08:00",
      "delegator": "è´¾ç»´æ–¯",
      "assigneeRaw": "é¦†é•¿",
      "assignees": [
        "librarian"
      ],
      "tags": [
        "#vault",
        "#priority-medium"
      ],
      "task": "ç‚¼åŒ– `AI/5-AI å®‰å…¨/Anthropic-Pentagon-Federal-Ban-2026.md`ï¼ˆ136 è¡Œï¼Œcase-study ç±»å‹ï¼‰",
      "status": "DONE:frontmatterå®Œæ•´/Mermaidå›¾å·²å­˜åœ¨/ä¸‰æ¡é“¾æ¥æœ‰æ•ˆ/è¡¥è“„æ„ç ´åæŠ¥å‘Šåå‘é“¾æ¥",
      "state": "DONE",
      "claimedTo": "frontmatterå®Œæ•´/Mermaidå›¾å·²å­˜åœ¨/ä¸‰æ¡é“¾æ¥æœ‰æ•ˆ/è¡¥è“„æ„ç ´åæŠ¥å‘Šåå‘é“¾æ¥",
      "section": "active",
      "priority": "medium",
      "bg": "Anthropic vs Pentagon å…¨è”é‚¦ç¦ä»¤äº‹ä»¶å…¨æ™¯ã€‚å…³è” `AI ä¼¦ç†å’Œæ²»ç†.md`ã€`Anthropic Claude Opus 4.6 è“„æ„ç ´åé£é™©æŠ¥å‘Š.md`",
      "deliver": "frontmatter æ£€æŸ¥ + äº¤å‰é“¾æ¥ + Mermaid å›¾æ¸²æŸ“ç¡®è®¤",
      "ageMin": 1225,
      "isRecent": true
    },
    {
      "time": "2026-02-28 09:58",
      "timeParsed": "2026-02-28T09:58:00+08:00",
      "delegator": "è´¾ç»´æ–¯",
      "assigneeRaw": "é¦†é•¿",
      "assignees": [
        "librarian"
      ],
      "tags": [
        "#vault",
        "#project",
        "#priority-medium"
      ],
      "task": "ç‚¼åŒ– `Projects/Agent-Self-Evolution/004-è®°å¿†ä»£è°¢.md`",
      "status": "DONE:frontmatter/See Also 7æ¡å…¨æœ‰æ•ˆï¼›è¡¥ExpeL/Reflexion/Agentè¿›åŒ–æ¨¡å¼è°±ç³»â†’004åå‘é“¾æ¥ï¼ˆ3æ¡ï¼‰ï¼›Environment-Evolution+Harnessä¸¤ç¯‡æ–°ç¬”è®°See Alsoè§„èŒƒåŒ–+äº’é“¾ï¼ˆ+10æ¡ï¼‰",
      "state": "DONE",
      "claimedTo": "frontmatter/See Also 7æ¡å…¨æœ‰æ•ˆï¼›è¡¥ExpeL/Reflexion/Agentè¿›åŒ–æ¨¡å¼è°±ç³»â†’004åå‘é“¾æ¥ï¼ˆ3æ¡ï¼‰ï¼›Environment-Evolution+Harnessä¸¤ç¯‡æ–°ç¬”è®°See Alsoè§„èŒƒåŒ–+äº’é“¾ï¼ˆ+10æ¡ï¼‰",
      "section": "active",
      "priority": "medium",
      "bg": "å®éªŒ 004 Phase 1 å®Œæˆï¼ŒMEMORY.md æ–°å¢è§„åˆ™åº“ï¼ˆS/A/B ä¸‰çº§ï¼Œ11 æ¡è§„åˆ™ï¼‰ã€‚å…³è” Agent è¿›åŒ–æ¨¡å¼è°±ç³» + é¡¹ç›®æ¦‚è§ˆ",
      "deliver": "frontmatter æ£€æŸ¥ + äº¤å‰é“¾æ¥",
      "ageMin": 1017,
      "isRecent": true
    },
    {
      "time": "2026-02-28 11:25",
      "timeParsed": "2026-02-28T11:25:00+08:00",
      "delegator": "å¤šæ¯”",
      "assigneeRaw": "è´¾ç»´æ–¯",
      "assignees": [
        "jarvis"
      ],
      "tags": [
        "#sync",
        "#priority-high"
      ],
      "task": "æ›´æ–° `profiles/meng.md`ï¼Œæ–°å¢è£æ ¼ç±»å‹ INTJ å°èŠ‚",
      "status": "DONE:å·²ç¡®è®¤ profiles/meng.md è£æ ¼ç±»å‹ INTJ å°èŠ‚+æ€ç»´æ¨¡å¼ä¿®æ”¹å‡å·²å°±ä½ï¼ˆè´¾ç»´æ–¯ 11:25ï¼‰",
      "state": "DONE",
      "claimedTo": "å·²ç¡®è®¤ profiles/meng.md è£æ ¼ç±»å‹ INTJ å°èŠ‚+æ€ç»´æ¨¡å¼ä¿®æ”¹å‡å·²å°±ä½ï¼ˆè´¾ç»´æ–¯ 11:25ï¼‰",
      "section": "active",
      "priority": "high",
      "bg": "åœ¨ã€Œäººæ ¼ç‰¹å¾ & æ·±åº¦ç†è§£ã€ç« èŠ‚çš„ã€Œæ€ç»´æ¨¡å¼ã€ä¹‹å‰æ–°å¢ã€‚Ni ä¸»å¯¼/Te è¾…åŠ©/Fi ç¬¬ä¸‰/Se åŠ£åŠ¿ã€‚åŒæ—¶æŠŠã€Œæ€ç»´æ¨¡å¼ã€ç¬¬ä¸€è¡Œçš„ã€ŒT å‹ä¸»å¯¼ï¼ˆæ€ç»´å‹ï¼‰ï¼Œã€æ”¹ä¸ºã€Œç³»ç»Ÿæ€ç»´è€…ï¼Œã€ã€‚æ¥æºï¼šè€æ¿æœ¬äººç¡®è®¤",
      "deliver": "profiles/meng.md æ›´æ–°å®Œæˆ",
      "ageMin": 930,
      "isRecent": true
    },
    {
      "time": "2026-03-01 00:42",
      "timeParsed": "2026-03-01T00:42:00+08:00",
      "delegator": "è´¾ç»´æ–¯",
      "assigneeRaw": "å­¦è€…",
      "assignees": [
        "scholar"
      ],
      "tags": [
        "#ops",
        "#priority-high"
      ],
      "task": "ä¿®å¤ heartbeatsï¼šç¡®ä¿æ¯æ¬¡å¿ƒè·³éƒ½æ­£ç¡®å†™å› `memory/heartbeat-state.json.lastHeartbeat`",
      "status": "DONE:å·²åœ¨ 23:07ã€00:05ã€01:05 ä¸‰æ¬¡å¿ƒè·³éªŒè¯ lastHeartbeat æ­£å¸¸å†™å›ï¼›è¯¯æŠ¥åº”ä¸ºæ—§ç‰ˆæœ¬/å†™å›ç¼ºå¤±å¯¼è‡´ï¼Œå½“å‰æœªå¤ç°",
      "state": "DONE",
      "claimedTo": "å·²åœ¨ 23:07ã€00:05ã€01:05 ä¸‰æ¬¡å¿ƒè·³éªŒè¯ lastHeartbeat æ­£å¸¸å†™å›ï¼›è¯¯æŠ¥åº”ä¸ºæ—§ç‰ˆæœ¬/å†™å›ç¼ºå¤±å¯¼è‡´ï¼Œå½“å‰æœªå¤ç°",
      "section": "archive",
      "priority": "high",
      "bg": "2/28 æ™šå‡ºç°è¯¯æŠ¥ï¼šæ—¥å¿—æ˜¾ç¤º 23:07 å·²å¿ƒè·³ä¸”æ–‡ä»¶ mtime æ›´æ–°ï¼Œä½† lastHeartbeat ä»åœåœ¨ 14:56ï¼Œå¯¼è‡´æ€»ç®¡å·®ç‚¹è§¦å‘æ»åå‘Šè­¦/æ½œåœ¨ watchdog è¯¯é‡å¯ã€‚",
      "deliver": "ä¸‹æ¬¡å¿ƒè·³éªŒè¯ lastHeartbeat æ­£å¸¸æ›´æ–°ï¼›è‹¥æœ‰å†™å…¥ç«æ€/å¼‚å¸¸ï¼Œè®°å½•åˆ° notes å¹¶ç»™å‡ºä¿®å¤æ–¹æ¡ˆã€‚",
      "ageMin": 133,
      "isRecent": true
    },
    {
      "time": "2026-03-01 01:45",
      "timeParsed": "2026-03-01T01:45:00+08:00",
      "delegator": "è´¾ç»´æ–¯",
      "assigneeRaw": "å¤šæ¯”",
      "assignees": [
        "datasci"
      ],
      "tags": [
        "#ops",
        "#priority-high"
      ],
      "task": "å‡çº§å¿ƒè·³â€œçµæ€§â€ï¼šé¿å…æ¨¡æ¿åŒ–å¤è¯»ï¼ŒæŒ‰æ–°è§„åˆ™è¾“å‡ºï¼ˆæ–°ä¿¡æ¯+åˆ¤æ–­+ä¸‹ä¸€æ­¥ï¼Œè½®æ¢æ¨¡æ¿ï¼‰",
      "status": "OPEN",
      "state": "OPEN",
      "claimedTo": "",
      "section": "archive",
      "priority": "high",
      "bg": "è€æ¿åé¦ˆå¤šæ¯”å¿ƒè·³æ ¼å¼è¿‡äºä¸€è‡´ï¼Œæ›´å¸Œæœ›åƒâ€œæœ‰çµé­‚çš„æ­æ¡£â€ï¼Œè€Œä¸æ˜¯æŒ‡å“ªæ‰“å“ªçš„å·¥å…·ã€‚å·²åœ¨ `workspace-datasci/HEARTBEAT.md` è¿½åŠ ã€ŒğŸ”· å¿ƒè·³è¾“å‡ºé£æ ¼ã€ç¡¬è§„åˆ™ã€‚",
      "deliver": "ä¸‹ä¸€æ¬¡å¿ƒè·³å¼€å§‹æ‰§è¡Œï¼›å¹¶åœ¨ `memory/YYYY-MM-DD.md` è®°å½•ä½ ä¸ºâ€œå»æ¨¡æ¿åŒ–â€åšäº†å“ªäº›è‡ªæˆ‘çº¦æŸ/æœºåˆ¶ã€‚",
      "ageMin": 70,
      "isRecent": true
    }
  ],
  "summary": {
    "totalTasks": 5,
    "openTasks": 1,
    "claimedTasks": 0,
    "blockedTasks": 0,
    "doneTasks": 3
  },
  "version": "v2-åä½œæ´¾å‘æœºåˆ¶å¼ºåŒ–",
  "collaboration": {
    "open": 1,
    "claimed": 0,
    "blocked": 0,
    "done": 3,
    "claimRate": 0.0,
    "anyAssignments": 0,
    "delegators": [
      {
        "name": "è´¾ç»´æ–¯",
        "OPEN": 1,
        "CLAIMED": 0,
        "DONE": 2,
        "BLOCKED": 0,
        "total": 3
      },
      {
        "name": "å¤šæ¯”",
        "OPEN": 0,
        "CLAIMED": 0,
        "DONE": 1,
        "BLOCKED": 0,
        "total": 1
      }
    ],
    "assignees": [
      {
        "name": "é¦†é•¿",
        "OPEN": 0,
        "CLAIMED": 0,
        "DONE": 2,
        "BLOCKED": 0,
        "total": 2
      },
      {
        "name": "å¤šæ¯”",
        "OPEN": 1,
        "CLAIMED": 0,
        "DONE": 0,
        "BLOCKED": 0,
        "total": 1
      },
      {
        "name": "è´¾ç»´æ–¯",
        "OPEN": 0,
        "CLAIMED": 0,
        "DONE": 1,
        "BLOCKED": 0,
        "total": 1
      }
    ],
    "flows": [
      {
        "from": "è´¾ç»´æ–¯",
        "to": "é¦†é•¿",
        "count": 2
      },
      {
        "from": "å¤šæ¯”",
        "to": "è´¾ç»´æ–¯",
        "count": 1
      },
      {
        "from": "è´¾ç»´æ–¯",
        "to": "å¤šæ¯”",
        "count": 1
      },
      {
        "from": "è´¾ç»´æ–¯",
        "to": "å­¦è€…",
        "count": 1
      }
    ],
    "warnings": []
  },
  "notes": [
    "çœ‹æ¿æŒ‰ shared/bulletin.md å…¨é‡ä»»åŠ¡æ„å»ºï¼ˆå½“å‰å¯è§ï¼‰",
    "æ´¾å‘é“¾è·¯ï¼šä»å‘å¸ƒè€… -> æŒ‡æ´¾æ–¹ -> ä»»åŠ¡çŠ¶æ€ï¼ˆOPEN/CLAIMED/BLOCKED/DONEï¼‰",
    "ä»»åŠ¡å¿ƒè·³å¥åº·é˜ˆå€¼ï¼š<=120 åˆ†é’Ÿåœ¨çº¿ï¼Œ121-180 åˆ†é’Ÿåæ…¢ï¼Œ>180 åˆ†é’Ÿå‘Šè­¦"
  ]
}</script>
  <script>
    const data = JSON.parse(document.getElementById('payload').textContent);

    const statusMap = {
      ok: { text: 'åœ¨çº¿', cls: 'status-active' },
      warn: { text: 'åæ…¢', cls: 'status-warn' },
      critical: { text: 'å‘Šè­¦', cls: 'status-blocked' },
      unknown: { text: 'æœªæ‰“å¡', cls: 'status-idle' },
    };

    const priorityMap = {
      high: { text: 'é«˜', cls: 'priority-high' },
      medium: { text: 'ä¸­', cls: 'priority-medium' },
      low: { text: 'ä½', cls: 'priority-low' },
    };

    function safeText(v) {
      return String(v || '').replace(/[&<>"']/g, (m) => ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;',
      }[m]));
    }

    function shortDate(input) {
      if (!input) return 'â€”';
      try {
        const d = new Date(input.replace(/-/g, '/').replace('â€”', '-'));
        if (Number.isNaN(d.getTime())) return input;
        const mm = String(d.getMonth() + 1).padStart(2, '0');
        const dd = String(d.getDate()).padStart(2, '0');
        const hh = String(d.getHours()).padStart(2, '0');
        const mi = String(d.getMinutes()).padStart(2, '0');
        return `${mm}-${dd} ${hh}:${mi}`;
      } catch (_) {
        return input;
      }
    }

    function normalizeState(state) {
      const upper = String(state || '').toUpperCase();
      if (upper === 'OPEN' || upper === 'TODO') return 'OPEN';
      if (upper === 'CLAIMED' || upper === 'IN_PROGRESS' || upper === 'INPROGRESS') return 'CLAIMED';
      if (upper === 'BLOCKED') return 'BLOCKED';
      if (upper === 'DONE' || upper === 'FINISHED' || upper === 'CLOSED') return 'DONE';
      return 'OPEN';
    }

    function taskPriority(task) {
      return (task.priority || 'medium').toLowerCase();
    }

    function taskTags(task) {
      const tags = Array.isArray(task.tags) ? task.tags : [];
      return tags.map((t) => `<span class="todo-tag">${safeText(t)}</span>`).join('');
    }

    function blockerBadge(task) {
      const statusText = String(task.status || '').trim();
      if (!statusText) return '';
      return `<span class="todo-tag">${safeText(statusText.slice(0, 40))}</span>`;
    }

    function renderTaskCard(task, withStatePrefix = true) {
      const state = normalizeState(task.state);
      const pri = priorityMap[taskPriority(task)] || priorityMap.medium;
      const who = task.assigneeRaw || task.delegator || 'ä»»æ„';
      const title = task.task || 'ï¼ˆæœªå‘½åä»»åŠ¡ï¼‰';
      const desc = task.bg || task.deliver || '';
      const suffix = task.section === 'archive' ? '' : ` Â· ${safeText(who)}`;
      const header = withStatePrefix ? `[${state}] ${safeText(title)}` : safeText(title);

      return `
        <div class="todo-card ${pri.cls} ${state === 'CLAIMED' ? 'claimed' : ''} ${state === 'BLOCKED' ? 'blocked' : ''}">
          <span class="todo-priority ${pri.cls}">${pri.text}</span>
          <div class="todo-content">
            <h3>${header}${suffix}</h3>
            ${desc ? `<p>${safeText(desc)}</p>` : ''}
            <div>
              ${taskTags(task)}
              ${state === 'BLOCKED' ? blockerBadge(task) : ''}
            </div>
          </div>
        </div>
      `;
    }

    function renderIssue(task) {
      const name = safeText(task.task || 'æœªçŸ¥é—®é¢˜');
      const impact = safeText(task.bg || task.deliver || task.status || 'å½±å“æœªè®°å½•');
      const owner = safeText(task.delegator || task.assigneeRaw || 'æœªåˆ†é…');

      return `<div class="issue-row">
        <span class="issue-name">${name}</span>
        <span class="issue-impact">${impact}</span>
        <span class="issue-status">${owner}</span>
      </div>`;
    }

    function renderActive(task) {
      const who = safeText(task.assigneeRaw || task.delegator || 'æœªæŒ‡å®š');
      const state = normalizeState(task.state);
      const pri = (task.priority || 'medium').toLowerCase();
      const tags = task.tags || [];
      return `<div class="active-card">
        <h3>${safeText(task.task || 'è¿›è¡Œä¸­ä»»åŠ¡')}</h3>
        <div class="active-detail"><strong>åˆ†å‘ï¼š</strong>${safeText(task.delegator || 'â€”')} â†’ ${who}</div>
        <div class="active-detail"><strong>é¢‘ç‡ï¼š</strong>å½“å‰çŠ¶æ€ ${state}</div>
        <div class="active-detail"><strong>ä¼˜å…ˆçº§ï¼š</strong>${safeText(pri)}</div>
        <div class="active-detail"><strong>æ›´æ–°æ—¶é—´ï¼š</strong>${safeText(task.time || 'â€”')}</div>
        ${tags.length ? `<div class="active-detail"><strong>æ ‡ç­¾ï¼š</strong>${safeText(tags.join(' '))}</div>` : ''}
        ${task.bg ? `<div class="active-detail"><strong>è¯´æ˜ï¼š</strong>${safeText(task.bg)}</div>` : ''}
      </div>`;
    }

    document.getElementById('buildTag').textContent = data.version || 'v2';
    document.getElementById('genAt').textContent = new Date(data.generatedAt).toLocaleString('zh-CN', { hour12: false });

    function renderKpiCard(value, label, unit = '') {
      return `
        <article class="kpi-card">
          <div class="kpi-label">${safeText(label)}</div>
          <div class="kpi-value">${safeText(value)}${safeText(unit)}</div>
        </article>
      `;
    }

    function renderTrendRows(rows, type = 'total') {
      if (!Array.isArray(rows) || !rows.length) {
        return '<div class="empty">æš‚æ— æ•°æ®</div>';
      }
      return rows.slice(0, 6).map((item) => {
        const name = safeText(item.name || 'â€”');
        const num = item[type] ?? item.total ?? 0;
        const open = item.OPEN || 0;
        const claimed = item.CLAIMED || 0;
        const blocked = item.BLOCKED || 0;
        const done = item.DONE || 0;
        return `
          <div class="trend-row">
            <span class="trend-name">${name}</span>
            <span class="trend-badge">${safeText(String(num))}</span>
          </div>
          <div class="trend-sub">OPEN ${safeText(String(open))} Â· CLAIMED ${safeText(String(claimed))} Â· BLOCKED ${safeText(String(blocked))} Â· DONE ${safeText(String(done))}</div>
        `;
      }).join('');
    }

    function renderFlowRows(rows) {
      if (!Array.isArray(rows) || !rows.length) {
        return '<div class="empty">æš‚æ— æ´¾å‘è·¯å¾„</div>';
      }
      return rows.slice(0, 6).map((item) => `
        <div class="trend-row">
          <span class="trend-name">${safeText(item.from || 'â€”')} â†’ ${safeText(item.to || 'â€”')}</span>
          <span class="trend-badge">${safeText(String(item.count || 0))}</span>
        </div>
      `).join('');
    }

    const collab = data.collaboration || {};
    const open = Number(collab.open || 0);
    const claimed = Number(collab.claimed || 0);
    const blocked = Number(collab.blocked || 0);
    const done = Number(collab.done || 0);
    const activeTotal = open + claimed;
    const claimRate = activeTotal > 0 ? Math.round((claimed / activeTotal) * 100) : 0;
    document.getElementById('dispatchKpi').innerHTML = [
      renderKpiCard(open, 'å¾…è®¤é¢† OPEN'),
      renderKpiCard(claimed, 'è®¤é¢†ä¸­ CLAIMED'),
      renderKpiCard(blocked, 'é˜»å¡ BLOCKED'),
      renderKpiCard(done, 'å·²å®Œæˆ DONE'),
      renderKpiCard(claimRate + '%', 'è®¤é¢†è½¬åŒ–ç‡'),
      renderKpiCard(String(collab.anyAssignments || 0), 'ä»»æ„åˆ†é…'),
    ].join('');

    const collabMetaWarnings = Array.isArray(collab.warnings) ? collab.warnings.filter(Boolean).slice(0, 4) : [];
    document.getElementById('warningBoard').innerHTML = collabMetaWarnings.length
      ? collabMetaWarnings.map((w) => `<div class="trend-row"><span class="trend-name">${safeText(w)}</span></div>`).join('')
      : '<div class="empty">æ´¾å‘é“¾è·¯è¾ƒç¨³ï¼Œæ— å¼‚å¸¸å‘Šè­¦</div>';
    document.getElementById('delegatorBoard').innerHTML = renderTrendRows(collab.delegators || []);
    document.getElementById('assigneeBoard').innerHTML = renderTrendRows(collab.assignees || []);
    document.getElementById('flowBoard').innerHTML = renderFlowRows(collab.flows || []);

    const teamGrid = document.getElementById('teamGrid');
    for (const member of data.team || []) {
      const hb = member.heartbeat || {};
      const st = statusMap[hb.statusClass] || statusMap.unknown;
      const cards = (member.tasks && member.tasks.length)
        ? member.tasks.slice(0, 3).map((t) => `
      <div class="mini-task">${safeText(t.task || 'â€”')}</div>`).join('')
        : '<div class="mini-task">æš‚æ— å¾…åŠ</div>';

      teamGrid.insertAdjacentHTML('beforeend', `
        <article class="agent-card">
          <div class="agent-header">
            <div class="agent-name">${safeText(member.icon || 'ğŸ¤–')} ${safeText(member.name)}ï¼ˆ${safeText(member.en || '')}ï¼‰</div>
            <span class="agent-status ${st.cls}">${safeText(st.text)}</span>
          </div>
          <div class="agent-model">${safeText(member.role || '')}</div>
          <div class="agent-meta">æœ€åå¿ƒè·³ï¼š${safeText(hb.display || 'â€”')} Â· ${safeText(hb.status || 'â€”')}ï¼ˆ${safeText(hb.hint || 'â€”')}ï¼‰</div>
          <div class="agent-task">${safeText(member.snippet || 'æ— å¤‡æ³¨')}</div>
          <div class="agent-task-list" style="margin-top:8px; display:grid; gap:6px;">${cards}</div>
        </article>
      `);
    }

    if (!data.team || !data.team.length) {
      teamGrid.innerHTML = '<div class="empty">æš‚æ— æˆå‘˜æ•°æ®</div>';
    }

    const tasks = Array.isArray(data.tasks) ? data.tasks : [];
    const activeTasks = tasks.filter(t => normalizeState(t.state) === 'CLAIMED').slice(0, 6);
    const todoTasks = tasks.filter(t => normalizeState(t.state) === 'OPEN');
    const blockedTasks = tasks.filter(t => normalizeState(t.state) === 'BLOCKED');
    const doneTasks = tasks.filter(t => normalizeState(t.state) === 'DONE');

    const activeList = document.getElementById('activeList');
    if (activeTasks.length) {
      activeList.innerHTML = activeTasks.map(renderActive).join('');
    } else {
      activeList.innerHTML = '<div class="empty">æš‚æ— è¿›è¡Œä¸­ä»»åŠ¡</div>';
    }

    const todoList = document.getElementById('todoList');
    if (todoTasks.length) {
      todoList.innerHTML = todoTasks
        .sort((a, b) => {
          const pa = { high: 0, medium: 1, low: 2 }[(taskPriority(a))] || 1;
          const pb = { high: 0, medium: 1, low: 2 }[(taskPriority(b))] || 1;
          return pa - pb;
        })
        .map((t) => renderTaskCard(t, false))
        .join('');
    } else {
      todoList.innerHTML = '<div class="empty">æš‚æ— å¾…åŠäº‹é¡¹</div>';
    }

    const issueList = document.getElementById('issueList');
    if (blockedTasks.length) {
      issueList.innerHTML = blockedTasks.map(renderIssue).join('');
    } else {
      issueList.innerHTML = '<div class="empty">æš‚æ— é˜»å¡é—®é¢˜</div>';
    }

    const doneList = document.getElementById('doneList');
    const doneSorted = doneTasks.sort((a, b) => {
      const ta = new Date((a.time || '').replace(/-/g, '/'));
      const tb = new Date((b.time || '').replace(/-/g, '/'));
      return tb - ta;
    });

    if (doneSorted.length) {
      doneList.innerHTML = doneSorted.slice(0, 12).map((item) => `
        <div class="completed-item">
          <span class="completed-date">${shortDate(item.time || '')}</span>
          <span class="completed-task">${safeText(item.task || 'â€”')}</span>
          <span class="completed-owner">${safeText(item.delegator || item.assigneeRaw || 'â€”')}</span>
          <span class="completed-note">${safeText(item.deliver || '')}</span>
        </div>
      `).join('');
    } else {
      doneList.innerHTML = '<div class="empty">è¿‘æœŸæš‚æ— å®Œæˆé¡¹</div>';
    }
  </script>
</body>
</html>

    